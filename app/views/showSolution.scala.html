@(solution:de.htwg.scala.solitairebattleship.model.IGrid)

@import de.htwg.scala.solitairebattleship.model.IGrid
@import de.htwg.scala.solitairebattleship.model.Ship


@main("Solitaire Battleship") {
  <h1>Solitaire Battleship</h1>
  <div class="left">
  <h3>Unplaced Ships</h3>
  </div>
  <div class="center">
  <h3>Solution</h3>
  <table>
    <tr>
      <td>@(" ")</td>
      @for(x <- 0 until solution.size) {
        <td>@((x+65).toChar)</td>
      }
      <td>@(" ")</td>
    </tr>

    @for(y <- 0 until solution.size) {
      <tr>
        <td>@((y+65).toChar)</td>
        @for(x <- 0 until solution.size) {  
          @solution.getCell(x, y) match {
            case Some(ship) => {<td x="@((x+65).toChar)" y="@((y+65).toChar)" class="occupied">@ship.id.toString</td>}
            case _ => {<td x="@((x+65).toChar)" y="@((y+65).toChar)" class="free">~</td>}
          }
        }
        <td>@(solution.getRowSum(y).toString)</td>
      </tr>
    }
    <tr>
      <td>@(" ")</td>
      @for(x <- 0 until solution.size) {
        <td>@(solution.getColumnSum(x))</td>
      }
      <td>@(" ")</td>
    </tr>
  </table>
  </div>
  <div class="right">
  <h3>Operations</h3>
  <h4>New Game</h4>
  <button><a href="@routes.Application.index">New Game</a></button>
  </div>
}